Version 4
SHEET 1 1572 680
WIRE 400 -768 144 -768
WIRE 960 -768 400 -768
WIRE 400 -736 400 -768
WIRE 960 -736 960 -768
WIRE 352 -720 304 -720
WIRE 1072 -720 1008 -720
WIRE 768 -688 720 -688
WIRE 864 -688 832 -688
WIRE 352 -672 320 -672
WIRE 1024 -672 1008 -672
WIRE 320 -656 320 -672
WIRE 1024 -656 1024 -672
WIRE 144 -624 144 -768
WIRE 400 -592 400 -656
WIRE 448 -592 400 -592
WIRE 496 -592 448 -592
WIRE 624 -592 576 -592
WIRE 720 -592 720 -688
WIRE 720 -592 624 -592
WIRE 752 -592 720 -592
WIRE 864 -592 864 -688
WIRE 864 -592 832 -592
WIRE 912 -592 864 -592
WIRE 960 -592 960 -656
WIRE 960 -592 912 -592
WIRE 400 -544 400 -592
WIRE 352 -528 288 -528
WIRE 960 -528 960 -592
WIRE 1072 -512 1008 -512
WIRE 352 -480 320 -480
WIRE 320 -464 320 -480
WIRE 1040 -464 1008 -464
WIRE 1040 -448 1040 -464
WIRE 144 -352 144 -544
WIRE 320 -352 144 -352
WIRE 400 -352 400 -464
WIRE 400 -352 320 -352
WIRE 960 -352 960 -448
WIRE 960 -352 400 -352
WIRE 320 -304 320 -352
WIRE 1248 48 1136 48
WIRE 1312 48 1248 48
WIRE -288 64 -304 64
WIRE -160 64 -288 64
WIRE 464 64 320 64
WIRE 496 64 464 64
WIRE 896 64 784 64
WIRE 960 64 896 64
WIRE -160 80 -160 64
WIRE 1136 80 1136 48
WIRE 320 96 320 64
WIRE 784 96 784 64
WIRE 960 96 960 64
WIRE -304 112 -304 64
WIRE -160 192 -160 160
WIRE -160 192 -304 192
WIRE 1136 192 1136 160
WIRE -304 208 -304 192
WIRE 320 208 320 176
WIRE 784 208 784 176
WIRE -288 256 -320 256
WIRE -160 256 -288 256
WIRE 416 256 256 256
WIRE 512 256 416 256
WIRE 912 256 784 256
WIRE 960 256 912 256
WIRE 1296 272 1184 272
WIRE 1360 272 1296 272
WIRE -320 288 -320 256
WIRE -160 288 -160 256
WIRE 784 288 784 256
WIRE -320 304 -320 288
WIRE 256 304 256 256
WIRE 1184 304 1184 272
WIRE -320 384 -320 368
WIRE -160 384 -160 368
WIRE -160 384 -320 384
WIRE -320 400 -320 384
WIRE 784 400 784 368
WIRE 1184 416 1184 384
FLAG -304 208 0
FLAG -320 400 0
FLAG 320 208 0
FLAG 256 384 0
FLAG -288 64 Vtri
FLAG -288 256 Vsin
FLAG 416 256 Vsin1
FLAG 784 208 0
FLAG 784 400 0
FLAG 464 64 pwm1
FLAG 896 64 pwms4
FLAG 912 256 pwms3
FLAG 1136 192 0
FLAG 1248 48 pwms1
FLAG 1184 416 0
FLAG 1296 272 pwms2
FLAG 320 -656 0
FLAG 320 -464 0
FLAG 1040 -448 0
FLAG 1024 -656 0
FLAG 304 -720 pwms1
FLAG 288 -528 pwms2
FLAG 1072 -720 pwms3
FLAG 1072 -512 pwms4
FLAG 320 -304 0
FLAG 448 -592 Vx+
FLAG 912 -592 V-
FLAG 624 -592 Vr
SYMBOL voltage -304 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 0 2.222E-6 2.222E-6 0 4.444E-6)
SYMBOL voltage -320 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 0.75 60)
SYMBOL res -176 64 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL res -176 272 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL bv 256 288 R0
SYMATTR InstName B1
SYMATTR Value V=abs(V(Vsin))
SYMBOL bv 320 80 R0
SYMATTR InstName B2
SYMATTR Value V{if(V(Vsin1)>V(Vtri),1,0)}
SYMBOL bv 784 80 R0
SYMATTR InstName B3
SYMATTR Value V{if(V(Vsin)>0,1,0)}
SYMBOL bv 784 272 R0
SYMATTR InstName B4
SYMATTR Value V{if(V(Vsin)<0,1,0)}
SYMBOL bv 1136 64 R0
SYMATTR InstName B5
SYMATTR Value V=limit(0,V(pwm1),V(pwms4))
SYMBOL bv 1184 288 R0
SYMATTR InstName B6
SYMATTR Value V=limit(0,V(pwm1),V(pwms3))
SYMBOL voltage 144 -640 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 125
SYMBOL sw 400 -640 M180
SYMATTR InstName S1
SYMATTR Value IdealSw
SYMBOL sw 400 -448 M180
SYMATTR InstName S2
SYMATTR Value IdealSw
SYMBOL sw 960 -640 R180
SYMATTR InstName S3
SYMATTR Value IdealSw
SYMBOL sw 960 -432 R180
SYMATTR InstName S4
SYMATTR Value IdealSw
SYMBOL ind 480 -576 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 27µ
SYMBOL cap 832 -704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 848 -608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 3
TEXT -336 216 Left 2 !.tran 50m
TEXT -312 -88 Left 2 !.model IdealSw SW(RON=1M ROFF=10MEG VT=0.5 VH=0.1)
